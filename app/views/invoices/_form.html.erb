<%= form_with(model: invoice, local: true, class: "flex flex-col gap-6 text-[#273754]") do |form| %>
    <div class="bg-white p-6 rounded-lg shadow border border-gray-200">
        <%= form.label :client_id, "Client", class: "block text-sm font-semibold mb-2" %>
        
        <%= form.collection_select :client_id, Client.all, :id, :name, 
            { prompt: "Select a Client" }, 
            { class: "block w-full border-gray-200 shadow-sm focus:border-[#273754] focus:ring-[#273754] sm:text-sm p-3" } 
        %>
    </div>

    <div class="bg-white p-6 rounded-lg shadow border border-gray-200">
        <div class="flex justify-between items-center mb-6 border-b border-gray-200 pb-4">
            <h3 class="font-bold text-lg text-gray-800">Invoice Items</h3>
            
            <button type="button" class="flex items-center gap-2 text-blue-600 hover:text-[#0D91D1] font-semibold text-sm transition">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="w-4 h-4">
                <path stroke-linecap="round" stroke-linejoin="round" d="M12 4.5v15m7.5-7.5h-15" />
                </svg>
                Add Item
            </button>
        </div>

        <div class="space-y-4"> 
            <%= form.fields_for :invoice_items do |item_form| %>
                <%= render "invoice_item_fields", f: item_form %>
            <% end %>
        </div>
    </div>

    <div class="flex justify-end mt-auto">
        <%= form.submit "Create Invoice",
        class: "font-semibold pb-1 border-b-2 border-transparent hover:border-[#273754] transition-colours duration-300" %>
    </div>

<% end %>